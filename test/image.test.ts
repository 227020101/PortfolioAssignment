import Koa from "koa";
import json from "koa-json";
import passport from 'koa-passport';
import { router as image } from "../routes/image";
import request from 'supertest';

const app: Koa = new Koa();

app.use(json());
app.use(passport.initialize());
app.use(image.routes());


const login = 'admin';
const password= '12345678';
const imageBase64 = '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';

describe('Image API', () => {
  describe('PUT /api/v1/uploadImage/:id', () => {
    it('should upload an image for an existing item', async () => {
      const result = await request(app.callback()).put('/api/v1/uploadImage/25')
        .send({ imageurl: imageBase64 })
        .auth(login, password);
      expect(result.statusCode).toEqual(202);
    });

    it('should return a 404 Not Found status code when the item does not exist', async () => {
      const result = await request(app.callback()).put('/api/v1/uploadImage')
        .send({ imageurl: imageBase64 })
        .auth(login, password);
      expect(result.statusCode).toEqual(404);
    });
  });
});